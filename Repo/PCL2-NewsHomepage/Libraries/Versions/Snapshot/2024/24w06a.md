---
cats: ['1.21','1.20','1.20.5']
translator: 最亮的信标
intro: 风弹 数据包版本31
---
## 实验性特性
### 风弹
* 感受旋风，成为旋风！使用风弹将会发射一个和旋风人相似的风弹弹射物
* 由玩家发出的风弹将会比旋风人的增加 10% 的击退效果，但冲击区域更小
* 就像旋风人射出的弹射物一样，玩家发射的风弹直接击中实体时也会产生伤害
* 旋风人被杀死后掉落 4-6 个，不受抢夺附魔影响
* 可由玩家或发射器发射
* 玩家被自己发射的风弹击中时会重置摔落高度
### 宝库
* 更新了宝库的纹理，使其更容易与试炼刷怪笼区分
## 更改
* 对于犰狳的最后更改
* 更新被驯服的狼的生命值和伤害
* 添加了 “日文字形变体” 选项，用于控制是否在默认字体中为 CJK 字符使用日本字形
* 漏斗不会尝试从碰撞箱完整的方块中吸取物品
### 犰狳
* 现在在受伤时不会惊慌，而是蜷缩并隐藏自己的头和脚
* 现在蜷缩时会探出头窥视，检查蜷缩条件是否满足
    * 如果满足，左右张望后再次蜷缩
    * 如果不满足，立刻起身
* 对于蜷缩、舒展、窥视有了新的动画
### 驯服的狼
* 现在有 40 点生命值（20 颗心）而不是 20 点（10 颗心）
* 受到环境伤害时，伤害不再调整为原来的一半
    * 在大多数情况下，考虑到生命值的提高，这种变化不会有不同，但现在它们可以承受更多来自玩家和箭的伤害
* 喂食恢复的生命值翻倍
### 日文字形变体
* 现在有新的选项，用于为某些 CJK 字符选择日语变体
* 替换字形来自日语版本的 Unifont 字体
* 新选项在新的 “字体设置” 菜单中，可以从 “语言” 菜单访问
* 此选项的默认值取决于系统区域语言设置
* “强制使用 Unicode 字体” 按钮已移至 “字体设置”
## 技术性更改
* 数据包版本现在为 31
* 资源包版本现在为 26
* 改善了漏斗的性能
* 添加了 JFR（Java Flight Recorder）事件，用于对单区块的读取和写入
* 现在函数中命令的最大长度（包括宏展开）不能超过 2,000,000 个字符
* 通过重用部分原版数据包，减少了登录期间服务器发送的数据量
### 数据包版本 31
* 药水效果等级再次限制在 0 至 255 之间
    * 跳跃提升、飘浮和挖掘疲劳的等级超过 127 的行为已被新的属性取代
* 添加了`generic.gravity`属性，控制重力加速度（格每二次方秒）
* 添加了`generic.safe_fall_distance`属性，控制实体不受摔落伤害的最大高度
* 添加了`generic.fall_damage_multiplier`属性，控制实体总摔落伤害的倍率
* 将`horse.jump_strength`重命名为`generic.jump_strength`，现在对于所有实体适用
    * 控制一次跳跃的基本冲量（优先于跳跃提升或方块属性）
* 添加了`player.block_break_speed`属性，控制玩家破坏方块速度的倍率
* 方块位置现在存储为一个由三个整数组成的数组，而不是包含 X、Y、Z 的复合单元
* 分别将蜜蜂的`FlowerPos`和`HivePos`重命名为`flower_pos`和`hive_pos`
* 将蜂巢的`FlowerPos`重命名为`flower_pos`
* 将末地水晶的 NBT 标签`BeamTarget`重命名为`beam_target`
* 将可被拴绳栓住的实体的 NBT 标签`Leash`重命名为`leash`
* 将袭击生物的 NBT 标签`PatrolTarget`重命名为`patrol_target`
* 将末地折跃门方块的 NBT 标签`ExitPortal`重命名为`exit_portal`
* 将流浪商人的 NBT 标签`WanderTarget`重命名为`wander_target`
* 加入了方块标签`#blocks_wind_charge_explosions`，用于指示不会在风弹击中时被破坏的方块
### 资源包版本 26
* 加入了字体变体过滤器
    * 现在字形提供程序可以基于特定的变体集来启用或禁用字体变体
    * 可用的变体目前是硬编码的，并由字体选项菜单控制
        * 变体`uniform`，连接到 “强制使用 Unicode 字体” 选项
        * 变体`jp`，连接到 “日文字形变体” 选项。
    * 过滤器在`filter`节中定义，可用于每个字形提供程序
        * 只有当过滤器中的值与键中变体的实际值匹配时，才会包含字形提供程序
